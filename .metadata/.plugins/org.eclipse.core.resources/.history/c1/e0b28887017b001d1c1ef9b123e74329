package com.deloitte.service;

import java.util.Iterator;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;

import com.deloitte.entity.Orders;
import com.deloitte.model.Food;
import com.deloitte.repo.IOrdersRepo;

public class OrdersServiceImpl implements IOrdersService {
	@Autowired
	private IOrdersRepo ordersRepo;
	
	@Override
	public List<Orders> fetchAllOrders() {
		return ordersRepo.findAll();
	}

	@Override
	public Integer fetchPrepTime(String orderID) {
		List<Food> orderedItems = ordersRepo.findById(orderID).get().getOrdersList();
		Iterator<Food> iterator = orderedItems.iterator();
		Integer ordersPrepTime = 0;
		
		while(iterator.hasNext()) {
			ordersPrepTime =ordersPrepTime+ iterator.next();
		}
		
		return null;
	}

	@Override
	public Boolean orderIsPaid(String orderID) {
		return ordersRepo.findById(orderID).get().getOrdersIsPaid();
	}

	@Override
	public Double orderAmount(String orderID) {
		return ordersRepo.findById(orderID).get().getOrdersAmountDue();
	}

	@Override
	public Orders fetchOrderByID(String orderID) {
		return ordersRepo.findById(orderID).get();
	}

}
